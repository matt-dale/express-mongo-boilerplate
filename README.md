# Intro

To get up and running quickly with TypeScript and a production level Express API, I used this [article](https://itnext.io/modern-node-part-2-bootstrapping-a-node-js-9be331c3d9ed) and [this repo](https://github.com/ryanoillataguerre/nonprofits-medium/blob/Chapter_2-Bootstrapping/services/users-service/src/errors/index.ts)

## Startup

In order to use this repo, you need to create a `.env` file in the root directory.
There is a sample env file in this directory. This repo was configured to connect to a MongoDB cluster when the app starts. If any key is omitted in the env file, the app will throw and not start.

Run `npm install` then `npm run dev` to get the dev server running.

## Dev env

This setup uses nodemon to do hot-reloading in the dev environment.
It also uses a custom logging middleware that uses Winston which can be configured during deployment to offload logs to a service.
Using VSCode is recommended as all import aliases are setup to work with VSCode.

## Basic Structure

All endpoints should go in the `api` folder and added in the `api/index` file.

All tests are written in Jest should go in the **tests** folder underneath its directory. It is recommended to use the vscode-jest extension for test running and debugging. Any changes to the applicable code will automatically re-run the tests.

There are two types of validation examples in this repo. The `authentication` routes uses `express-validator`. In `handleValidationErrors` there is an example using Zod middleware. It's recommended to use the Zod middleware on endpoints so that types can be autogenerated.
For example:
`export type AuthSchema = z.infer<typeof authSchema>;`
Where `authSchema` is a Zod object.

See [zod](https://github.com/colinhacks/zod) for more info.
